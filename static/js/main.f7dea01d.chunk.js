(this["webpackJsonpcoinback-cash"]=this["webpackJsonpcoinback-cash"]||[]).push([[0],{242:function(e){e.exports=JSON.parse('[{"id":5,"tagId":3,"note":"\u8d2d\u7f6e\u751f\u6d3b\u7528\u54c1","category":"expense","amount":189.5,"createdAt":"2020-06-12T00:00:00.000Z"},{"id":6,"tagId":2,"note":"\u966a\u5973\u670b\u53cb\u901b\u8857","category":"expense","amount":869.6,"createdAt":"2020-10-14T00:00:00.000Z"},{"id":7,"tagId":33,"note":"","category":"income","amount":12134.5,"createdAt":"2021-08-15T00:00:00.000Z"},{"id":8,"tagId":33,"note":"","category":"income","amount":11256.5,"createdAt":"2021-10-15T00:00:00.000Z"},{"id":9,"tagId":13,"note":"\u8fd8\u623f\u8d37","category":"expense","amount":6542.6,"createdAt":"2021-12-04T00:00:00.000Z"},{"id":10,"tagId":15,"note":"\u4e70\u5976\u7c89","category":"expense","amount":523,"createdAt":"2021-12-02T00:00:00.000Z"},{"id":11,"tagId":4,"note":"\u51fa\u5dee\u6253\u7684\u57ab\u4ed8","category":"expense","amount":45,"createdAt":"2021-11-11T00:00:00.000Z"},{"id":12,"tagId":11,"note":"","category":"expense","amount":315,"createdAt":"2021-07-08T00:00:00.000Z"},{"id":13,"tagId":9,"note":"\u8ddf\u670b\u53cb\u53bbKTV\u653e\u677e\u4e00\u4e0b","category":"expense","amount":120,"createdAt":"2021-07-14T00:00:00.000Z"},{"id":14,"tagId":18,"note":"\u53bb\u4e91\u5357\u65c5\u6e38\u98de\u673a\u7968","category":"expense","amount":2136,"createdAt":"2020-09-18T00:00:00.000Z"},{"id":15,"tagId":22,"note":"\u300a\u4f60\u4e0d\u77e5\u9053\u7684JavaScript\u300b\uff08\u4e0a\u5377\uff09","category":"expense","amount":36,"createdAt":"2021-09-07T00:00:00.000Z"},{"id":16,"tagId":2,"note":"\u6362\u624b\u673a","category":"expense","amount":5899,"createdAt":"2021-06-04T00:00:00.000Z"},{"id":17,"tagId":35,"note":"\u80a1\u7968\u6536\u76ca","category":"income","amount":513,"createdAt":"2021-12-31T11:33:38.809Z"},{"id":18,"tagId":36,"note":"\u9886\u5bfc\u53d1\u7ea2\u5305","category":"income","amount":200,"createdAt":"2021-12-31T11:34:08.243Z"},{"id":19,"tagId":33,"note":"","category":"income","amount":11368,"createdAt":"2021-11-15T00:00:00.000Z"},{"id":20,"tagId":33,"note":"","category":"income","amount":11236,"createdAt":"2021-09-15T00:00:00.000Z"},{"id":21,"tagId":8,"note":"\u6e38\u6cf3","category":"expense","amount":34,"createdAt":"2021-12-31T11:36:15.136Z"},{"id":22,"tagId":1,"note":"\u8ddf\u540c\u4e8b\u805a\u9910","category":"expense","amount":89,"createdAt":"2021-12-31T11:36:47.322Z"}]')},558:function(e,n,t){},559:function(e,n,t){"use strict";t.r(n);var a=t(2),i=t(236),c=t.n(i),o=t(6),r=t(30),s=t(18),d=t(10),l=t(56),u=parseInt(window.localStorage.getItem("tagIdMax")||"100"),x=parseInt(window.localStorage.getItem("recordIdMax")||"100"),g=function(e){switch(e){case"record":return x+=1,window.localStorage.setItem("recordIdMax",JSON.stringify(x)),x;case"tag":return u+=1,window.localStorage.setItem("tagIdMax",JSON.stringify(u)),u}},j=function(e,n){var t=Object(a.useRef)(0);Object(a.useEffect)((function(){t.current+=1})),Object(a.useEffect)((function(){t.current>1&&e()}),[e].concat(Object(l.a)(n)))},b=function(){var e=Object(a.useState)([]),n=Object(d.a)(e,2),t=n[0],i=n[1];Object(a.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("tags")||"[]");0===e.length&&(e=[{id:1,icon:"jucan",name:"\u805a\u9910",category:"expense"},{id:2,icon:"gouwu",name:"\u8d2d\u7269",category:"expense"},{id:3,icon:"riyong",name:"\u65e5\u7528",category:"expense"},{id:4,icon:"jiaotong",name:"\u4ea4\u901a",category:"expense"},{id:8,icon:"yundong",name:"\u8fd0\u52a8",category:"expense"},{id:9,icon:"yule",name:"\u5a31\u4e50",category:"expense"},{id:11,icon:"yifu",name:"\u8863\u670d",category:"expense"},{id:13,icon:"zhufang",name:"\u4f4f\u623f",category:"expense"},{id:15,icon:"yuer",name:"\u80b2\u513f",category:"expense"},{id:18,icon:"lvxing",name:"\u65c5\u884c",category:"expense"},{id:20,icon:"shuma",name:"\u6570\u7801",category:"expense"},{id:21,icon:"yiliao",name:"\u533b\u7597",category:"expense"},{id:22,icon:"shuji",name:"\u4e66\u7c4d",category:"expense"},{id:24,icon:"chongwu",name:"\u5ba0\u7269",category:"expense"},{id:33,icon:"gongzi",name:"\u5de5\u8d44",category:"income"},{id:34,icon:"jianzhi",name:"\u517c\u804c",category:"income"},{id:35,icon:"licai",name:"\u7406\u8d22",category:"income"},{id:36,icon:"lijin",name:"\u7ea2\u5305",category:"income"},{id:37,icon:"qita",name:"\u5176\u4ed6",category:"income"}]),i(e)}),[]),j((function(){window.localStorage.setItem("tags",JSON.stringify(t))}),[t]);return{tags:t,getIcon:function(e){return t.find((function(n){return n.id===e}))},addTag:function(e){var n=e.id,a=e.icon,c=e.name,o=e.category;if(null!==c&&""!==c){var r=t.findIndex((function(e){return e.id===n}));i([].concat(Object(l.a)(t),-1===r?[{id:n,icon:a,name:c,category:o}]:[{id:g("tag"),icon:a,name:c,category:o}]))}},setTags:i,findTag:function(e){return t.filter((function(n){return n.id===e}))[0]},filterTag:function(e){return t.filter((function(n){return n.category===e}))},updateTag:function(e,n){var a=n.icon,c=n.name,o=n.category;i(t.map((function(n){return n.id===e?{id:e,icon:a,name:c,category:o}:n})))},findTagIndex:function(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].id===e){n=a;break}return n},deleteTag:function(e){i(t.filter((function(n){return n.id!==e})))}}},f=t(5),p=t(23),m=t(108),h=t(107),O=t.n(h),y=t(1),v=["name","color","size","children","className"],k=f.a.svg((function(e){return{width:e.size,height:e.size,fill:e.color}})),w=function(e){var n=e.name,t=e.color,a=e.size,i=(e.children,e.className),c=Object(m.a)(e,v);return Object(y.jsx)(k,Object(p.a)(Object(p.a)({size:a,color:t,"aria-hidden":"true",className:O()("icon",i)},c),{},{children:n&&Object(y.jsx)("use",{xlinkHref:"#icon-"+n})}))};w.defaultProps={size:16};var z,S,I,N,C,T,A,Y=w,M=f.a.button(z||(z=Object(o.a)(["\n  font-size: 18px;\n  border: none;\n  padding: 8px 12px;\n  background: #767676;\n  border-radius: 4px;\n  color: white;\n"]))),F=f.a.header(S||(S=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  line-height: 20px;\n  padding: 14px;\n  font-size: 16px;\n  background-color: #ffda44;\n"]))),Z=f.a.div(I||(I=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),D=f.a.section(N||(N=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  background-color: #ffda44;\n\n  > ul {\n    display: flex;\n    border: 1px solid #333;\n    margin-bottom: 14px;\n    border-radius: 8px;\n    overflow: hidden;\n    align-items: center;\n\n    > li {\n      width: 110px;\n      text-align: center;\n      padding: 0.4em 0;\n\n      &.selected {\n        background-color: #333;\n        color: #ffda44;\n      }\n\n      &:not(:first-child) {\n        border-left: 1px solid #333;\n      }\n    }\n  }\n"]))),E=f.a.section(C||(C=Object(o.a)(["\n  font-size: 14px;\n\n  > ul {\n    display: flex;\n    border-bottom: 1px solid #ddd;\n    overflow-x: auto;\n    scrollbar-width: none; /* Firefox */\n    -ms-overflow-style: none; /* IE 10+ */\n    white-space: nowrap;\n    cursor: pointer;\n    //direction: rtl;\n\n    &::-webkit-scrollbar {\n      display: none; /* Chrome Safari */\n    }\n\n    > li {\n      flex-shrink: 0;\n      text-align: center;\n      padding: 8px 0;\n      margin: 0 12px;\n\n      &.selected > span {\n        position: relative;\n      }\n\n      &.selected > span::after {\n        content: '';\n        display: block;\n        height: 3px;\n        background: #333;\n        position: absolute;\n        bottom: -8px;\n        width: 100%;\n        left: 50%;\n        transform: translateX(-50%);\n      }\n    }\n  }\n"]))),L=function(e){var n=e.map.map((function(e){return e.key})),t=e.value,i=Object(a.useRef)(99999),c=Object(a.useRef)(null),o=function(e){e.currentTarget.scrollLeft+=e.deltaY};Object(a.useEffect)((function(){c.current&&(c.current.scrollLeft=i.current)}),[t]);var r=function(){return Object(y.jsx)("ul",{ref:c,onWheel:o,children:n.map((function(n,a){return Object(y.jsx)("li",{className:t===n?"selected":void 0,onClick:function(t){e.onChange(n),c.current&&(i.current=c.current.scrollLeft)},children:Object(y.jsx)("span",{children:e.map[a].value})},n)}))})},s=function(){switch(e.type){case"line":return Object(y.jsx)(E,{children:Object(y.jsx)(r,{})});case"bar":default:return Object(y.jsx)(D,{children:Object(y.jsx)(r,{})})}};return Object(y.jsx)(s,{})},q=f.a.ol(T||(T=Object(o.a)(["\n  font-size: 16px;\n  background: white;\n  height: 100%;\n  overflow-y: auto;\n\n  > li {\n    border-bottom: 1px solid #d5d5d9;\n    line-height: 20px;\n    margin-left: 16px;\n    display: flex;\n    align-items: center;\n\n    svg {\n      margin: 10px 10px 10px 0;\n    }\n\n    > .divide {\n      flex: 1;\n      display: flex;\n      justify-content: space-between; // \u5de6\u53f3\u5206\u5f00\n      align-items: center; // \u4e0a\u4e0b\u5c45\u4e2d\n    }\n  }\n"]))),R=f.a.div(A||(A=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  position: relative;\n  animation: animate 1s ease;\n  overflow: hidden;\n\n  // fixme: \u6b64\u52a8\u753b\u5728 pc \u7aef\uff08\u5c4f\u5e55\u8f83\u5bbd\u65f6\uff09\uff0c\u6548\u679c\u8f83\u5dee\uff01\n  @keyframes animate {\n    from {\n      left: 100vw;\n    }\n    to {\n      left: 0;\n    }\n  }\n\n  button {\n    width: 100%;\n    height: 56px;\n    font-size: 16px;\n    background: white;\n    border-radius: 0;\n    box-shadow: 0 0 3px rgb(0 0 0 / 25%);\n    color: #606266;\n  }\n\n  .placeholder {\n    width: 24px;\n  }\n"])));var J,U,V,B=function(){var e=b(),n=e.deleteTag,t=e.filterTag,i=Object(s.g)(),c=Object(s.i)().category,o=Object(a.useState)(c),l=Object(d.a)(o,2),u=l[0],x=l[1],g=t(u);return Object(y.jsxs)(R,{children:[Object(y.jsxs)(F,{children:[Object(y.jsxs)(Z,{onClick:function(){i.goBack()},children:[Object(y.jsx)(Y,{name:"left",size:24}),"\u8fd4\u56de"]}),Object(y.jsx)("span",{children:"\u7c7b\u522b\u8bbe\u7f6e"}),Object(y.jsxs)(Z,{style:{opacity:0},children:[Object(y.jsx)(Y,{name:"left",size:24}),"\u5360\u4f4d"]})]}),Object(y.jsx)(L,{value:u,map:[{key:"expense",value:"\u652f\u51fa"},{key:"income",value:"\u6536\u5165"}],onChange:function(e){x(e)}}),Object(y.jsx)(q,{children:g.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsx)(Y,{name:"remove",size:24,onClick:function(){n(e.id)}}),Object(y.jsx)("div",{className:"divide",children:Object(y.jsxs)(Z,{children:[Object(y.jsx)(Y,{name:e.icon,size:24}),Object(y.jsx)("span",{className:"oneLine",children:e.name})]})}),Object(y.jsx)(Y,{name:"drag",size:24})]},e.id)}))}),Object(y.jsx)(r.b,{to:"/tags/".concat(u,"/new"),children:Object(y.jsx)(M,{children:"+ \u6dfb\u52a0\u7c7b\u522b"})})]})},P=f.a.nav(J||(J=Object(o.a)(["\n  background: white;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\n  line-height: 24px;\n  color: #606266;\n\n  > ul {\n    display: flex;\n\n    > li {\n      width: 33.3333%;\n      text-align: center;\n      position: relative;\n\n      > a {\n        padding: 4px 0;\n        // a \u6807\u7b7e\u52a0 flex \u5e03\u5c40\uff0c\u4ece inline\u5143\u7d20\u53d8\u4e3a block\u5143\u7d20\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n\n        &.selected:not(.add) {\n          color: #ffda44;\n\n          .icon {\n            fill: #ffda44;\n          }\n        }\n      }\n\n      .add {\n        // \u5360\u4f4d\u7528\n        &::before {\n          content: '';\n          display: block;\n          height: 24px;\n        }\n\n        .round {\n          position: absolute;\n          padding: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 50%;\n          border: 4px solid white;\n          background-color: #ffda44;\n          box-shadow: 0px -2px 6px -2px rgba(0, 0, 0, 0.25);\n          left: 50%;\n          bottom: 28px;\n          transform: translateX(-50%);\n\n          .icon {\n            fill: #000;\n          }\n        }\n\n        &.selected {\n          color: #ffda44;\n        }\n      }\n    }\n  }\n"]))),H=function(){var e=Object(s.h)().pathname;return Object(y.jsx)(P,{children:Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(y.jsxs)(r.c,{to:"/details",activeClassName:"selected",children:["/details"===e?Object(y.jsx)(Y,{name:"details-fill",size:24}):Object(y.jsx)(Y,{name:"details",size:24}),"\u660e\u7ec6"]})}),Object(y.jsx)("li",{children:Object(y.jsxs)(r.c,{to:"/money",activeClassName:"selected",className:"add",children:[Object(y.jsx)("div",{className:"round",children:Object(y.jsx)(Y,{name:"add",size:24})}),"\u8bb0\u8d26"]})}),Object(y.jsx)("li",{children:Object(y.jsxs)(r.c,{to:"/statistics",activeClassName:"selected",children:["/statistics"===e?Object(y.jsx)(Y,{name:"statistics-fill",size:24}):Object(y.jsx)(Y,{name:"statistics",size:24}),"\u56fe\u8868"]})})]})})},K=f.a.div(U||(U=Object(o.a)(["\n  height: 100vh; // \u4e0d\u80fd\u4f7f\u7528 min-height\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),W=f.a.div(V||(V=Object(o.a)(["\n  flex-grow: 1; // \u5c3d\u91cf\u9ad8\n  overflow: auto;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),X=function(e){var n=Object(a.useRef)(null);return Object(a.useEffect)((function(){setTimeout((function(){n.current&&(n.current.scrollTop=e.scrollTop)}),0)}),[e.scrollTop]),Object(y.jsxs)(K,{children:[Object(y.jsx)(W,{ref:n,className:e.className,"data-x":"rick",children:e.children}),Object(y.jsx)(H,{})]})};X.defaultProps={scrollTop:0};var G,Q=X,$=f.a.section(G||(G=Object(o.a)(["\n  font-size: 18px;\n\n  > ul {\n    display: flex;\n\n    > li {\n      width: 50%;\n      //text-align: center;\n      padding: 16px 0;\n      line-height: 1em;\n\n      &.selected > span {\n        position: relative;\n\n        &::after {\n          content: '';\n          display: block;\n          height: 3px;\n          background: #333;\n          position: absolute;\n          bottom: -16px;\n          width: 2.8em;\n          left: 50%;\n          transform: translateX(-50%);\n        }\n      }\n    }\n\n    > li:first-child {\n      text-align: right;\n      padding-right: 18px;\n    }\n\n    > li:nth-child(2) {\n      text-align: left;\n      padding-left: 18px;\n    }\n  }\n"]))),_=function(e){var n={expense:"\u652f\u51fa",income:"\u6536\u5165"},t=Object(a.useState)(["expense","income"]),i=Object(d.a)(t,1)[0],c=e.value;return Object(y.jsx)($,{children:Object(y.jsx)("ul",{children:i.map((function(t){return Object(y.jsx)("li",{className:c===t?"selected":"",onClick:function(){return e.onChange(t)},children:Object(y.jsx)("span",{children:n[t]})},t)}))})})},ee=t(19),ne=t.n(ee),te=t(240),ae=t.n(te),ie=t(241),ce=t.n(ie);ne.a.extend(ce.a),ne.a.extend(ae.a),ne.a.Ls.en.weekStart=1;var oe,re,se,de,le,ue=function(e,n){var t,a=xe(),i=function(n){return"week"===n?e.isSame(a.time,n):e.isSame(a[n],n)},c=function(n){return e.isSame(a.time.startOf(n).subtract(1,n),n)},o=e.format("YYYY");switch(n){case"month":return t=i(n)?"\u672c":c(n)?"\u4e0a":i("year")?e.format("MM"):o+"-"+e.format("MM"),{uid:e.format("YYYY-MM"),title:t+"\u6708"};case"year":return{uid:o,title:(t=i(n)?"\u4eca":c(n)?"\u53bb":o)+"\u5e74"};case"week":var r=e.week().toString().padStart(2,"0"),s=e.weekYear()+"-"+r;return{uid:s,title:(t=a[n]===s?"\u672c":c(n)?"\u4e0a":i("week")?r:s)+"\u5468"};case"day":default:return t=i(n)?"\u4eca":c(n)?"\u6628":e.format("MM\u6708DD"),{uid:e.format("YYYY-MM-DD"),title:t+"\u65e5"}}},xe=function(){var e=ne()(),n=e.weekYear()+"-"+e.week().toString().padStart(2,"0");return{year:e.format("YYYY"),month:e.format("YYYY-MM"),day:e.format("YYYY-MM-DD"),week:n,time:e}},ge=t(242),je=function(){var e=Object(a.useState)([]),n=Object(d.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)([]),o=Object(d.a)(c,2),r=o[0],s=o[1];Object(a.useEffect)((function(){var e=window.localStorage.getItem("records");i(e?JSON.parse(e):ge)}),[]),j((function(){window.localStorage.setItem("records",JSON.stringify(t))}),[t]);return{records:t,sections:r,addRecord:function(e){return e.amount<=0?(alert("\u8bf7\u8f93\u5165\u91d1\u989d"),!1):e.tagId<0?(alert("\u8bf7\u9009\u62e9\u6807\u7b7e"),!1):(n=""===e.createdAt?Object(p.a)(Object(p.a)({},e),{},{createdAt:(new Date).toISOString(),id:g("record")}):Object(p.a)(Object(p.a)({},e),{},{createdAt:new Date(e.createdAt).toISOString(),id:g("record")}),i([].concat(Object(l.a)(t),[n])),!0);var n},getRecords:function(e){var n=e.category,a=e.dateUnit,i=t.filter((function(e){return e.category===n})).sort((function(e,n){return ne()(n.createdAt).valueOf()-ne()(e.createdAt).valueOf()}));if(0===i.length)return[];var c=function(e,n,t){var a,i,c=ue(ne()(e),t).uid,o=[],r=0;do{a=ne()(n).startOf(t).subtract(r,t);var s=ue(a,t),d=s.uid,l=s.title;o.unshift({key:d,value:l}),i=d,r++}while(i!==c);return o}(i[i.length-1].createdAt,i[0].createdAt,a);s(c);for(var o=ue(ne()(i[0].createdAt),a),r=o.title,d=[{uid:o.uid,title:r,items:[i[0]]}],l=1;l<i.length;l++){var u=i[l],x=d[d.length-1],g=ue(ne()(u.createdAt),a),j=g.title,b=g.uid;b===x.uid?x.items.push(u):d.push({uid:b,title:j,items:[u]})}return d.forEach((function(e){e.total=e.items.reduce((function(e,n){return e+n.amount}),0)})),d},getKvPairs:function(e,n,t){var a,i,c;switch(t){case"year":a="month",i=12,c=ne()(n);break;case"month":a="day",i=ne()(n).daysInMonth(),c=ne()(n);break;case"week":var o=n.split("-"),r=Object(d.a)(o,2),s=r[0],l=r[1];c=ne()(s).week(parseInt(l)).startOf("week"),a="day",i=7;break;default:a="day",i=1,c=ne()(n)}for(var u={keys:[],values:[],ranks:[]},x=[],g=0;g<i;g++)x.unshift(c.add(g,a));var j=0,b={};x.forEach((function(n){for(var a=0;j<e.length&&ne()(e[j].createdAt).valueOf()>=n.valueOf();j++){a+=e[j].amount;var i=b[e[j].tagId];b[e[j].tagId]=void 0===i?e[j].amount:i+e[j].amount}u.keys.unshift(function(e,n){switch(n){case"year":return e.format("M\u6708");case"month":return e.format("D");case"week":return e.format("MM-DD");case"day":default:return e.format("HH\u65f6")}}(n,t)),u.values.unshift(a)}));var f=u.values.reduce((function(e,n){return e+n}),0),p=Object.keys(b).reduce((function(e,n){var t=b[n],a={tagId:parseInt(n),value:t,percent:t/f},i=e.findIndex((function(e,n){return e.value<t}));return-1===i?e.push(a):e.splice(i,0,a),e}),[]);return u.ranks=p,u},removeRecord:function(e){var n=t.findIndex((function(n){return n.id===e})),a=t.slice(0);a.splice(n,1),i(a)}}},be=Object(f.a)(Q)(oe||(oe=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n\n  .details {\n    // \u53ea\u4e2d\u95f4\u533a\u57df\u6eda\u52a8\n    flex: 1;\n    overflow-y: auto;\n\n    .scroll-snap {\n      display: flex;\n      overflow-y: hidden;\n      scroll-snap-type: x mandatory;\n      font-size: 16px;\n      position: relative;\n      //scroll-behavior: smooth;\n\n      &::-webkit-scrollbar {\n        display: none;\n      }\n\n      > .delete {\n        white-space: nowrap;\n        border: 0;\n        color: #fff;\n        background-color: #eb4646;\n        width: 4em;\n        height: calc(30px + 20px);\n        padding: 10px;\n        position: absolute;\n        left: 100%;\n        outline: 0;\n      }\n\n      > .content {\n        flex: 0 0 100%;\n        scroll-snap-align: start;\n      }\n\n      > .space {\n        flex: 0 0 4em;\n        scroll-snap-align: end;\n      }\n    }\n  }\n"]))),fe=f.a.div(re||(re=Object(o.a)(["\n  background: #ffda44;\n"]))),pe=f.a.div(se||(se=Object(o.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n  background: white;\n  font-size: 16px;\n  line-height: 20px;\n  padding: 10px 16px;\n  border-bottom: 1px solid #ddd;\n\n  > .note {\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n    flex: 1;\n  }\n\n  > .tag,\n  > .amount {\n    display: flex;\n    align-items: center;\n  }\n\n  > .tag {\n    flex-shrink: 0;\n    justify-content: center;\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    background: #ffda44;\n  }\n"]))),me=f.a.h3(de||(de=Object(o.a)(["\n  font-size: 16px;\n  line-height: 20px;\n  padding: 10px 16px;\n  font-weight: normal;\n"]))),he=f.a.div(le||(le=Object(o.a)(["\n  header {\n    justify-content: center;\n    font-size: 20px;\n    letter-spacing: 0.2em;\n    padding-bottom: 0;\n  }\n"]))),Oe=["\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d","\u661f\u671f\u5929"];var ye,ve,ke,we,ze,Se,Ie,Ne=function(){var e=Object(a.useState)("expense"),n=Object(d.a)(e,2),t=n[0],i=n[1],c=je(),o=c.records,r=c.removeRecord,s=b().getIcon,l={};o.filter((function(e){return e.category===t})).forEach((function(e){var n=ne()(e.createdAt).format("MM\u6708DD\u65e5")+" "+Oe[ne()(e.createdAt).day()];n in l||(l[n]=[]),l[n].unshift(e)}));var u=Object.entries(l).sort((function(e,n){return e[0]===n[0]?0:e[0]>n[0]?-1:e[0]<n[0]?1:0})),x=Object(a.useRef)([]);return Object(y.jsxs)(be,{children:[Object(y.jsx)(he,{children:Object(y.jsx)(F,{children:"\u5e01\u5f52\u8bb0\u8d26"})}),Object(y.jsx)(fe,{children:Object(y.jsx)(_,{value:t,onChange:function(e){return i(e)}})}),Object(y.jsx)("div",{className:"details",children:u.map((function(e,n){var a=Object(d.a)(e,2),i=a[0],c=a[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)(me,{children:i}),Object(y.jsx)("div",{children:c.map((function(e,n){var a=s(e.tagId);return Object(y.jsxs)("div",{className:"scroll-snap",ref:function(e){return x.current.push(e)},onTouchStart:function(e){x.current.forEach((function(n){n&&e.currentTarget!==n&&n.scroll({left:0,behavior:"smooth"})}))},children:[Object(y.jsx)("button",{className:"delete",onClick:function(){r(e.id)},children:"\u5220\u9664"}),Object(y.jsxs)(pe,{className:"content",children:[Object(y.jsx)("div",{className:"tag",children:Object(y.jsx)(Y,{name:a&&a.icon,size:20})}),Object(y.jsx)("div",{className:"note oneLine",children:""===e.note?a&&a.name:e.note}),Object(y.jsxs)("div",{className:"amount",children:["expense"===t?"-":"+",e.amount]})]}),Object(y.jsx)("s",{className:"space"})]},e.id)}))})]},n)}))})]})},Ce=["label","children"],Te=f.a.label(ye||(ye=Object(o.a)(["\n  display: flex;\n  align-items: center;\n\n  > span {\n    // \u4e0d\u6362\u884c\n    white-space: nowrap;\n  }\n\n  > input {\n    display: block;\n    width: 100%;\n    height: 44px;\n    background: none;\n    border: none;\n  }\n"]))),Ae=function(e){e.label,e.children;var n=Object(m.a)(e,Ce),t=function(){return e.icon?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Y,{name:e.icon,size:24}),Object(y.jsx)("span",{children:e.label})]}):Object(y.jsx)("span",{children:e.label})};return Object(y.jsxs)(Te,{children:[Object(y.jsx)(t,{}),Object(y.jsx)("input",Object(p.a)({},n))]})},Ye=f.a.section(ve||(ve=Object(o.a)(["\n  background: #f3f3f3;\n  padding: 2px 4px;\n  font-size: 14px;\n"]))),Me=function(e){var n=e.value;return Object(y.jsx)(Ye,{children:Object(y.jsx)(Ae,{type:"text",className:"oneLine",label:"\u5907\u6ce8\uff1a",icon:"note",value:n,onChange:function(n){e.onChange(n.target.value)},placeholder:"\u70b9\u51fb\u5199\u5907\u6ce8..."})})},Fe=f.a.section(ke||(ke=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n\n  > .output {\n    background: white;\n    font-size: 26px;\n    line-height: 48px;\n    text-align: right;\n    padding: 0 16px;\n    border-top: 1px solid #ccc;\n    background-color: #f3f3f3;\n    //box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, 0.25),\n    //inset 0 5px 5px -5px rgba(0, 0, 0, 0.25);\n  }\n\n  > .pad {\n    border-bottom: 1px solid #ccc;\n\n    > button {\n      font-size: 18px;\n      float: left;\n      width: 25%;\n      height: 64px;\n      background-color: #f3f3f3;\n      border: none;\n      border-right: 1px solid #ccc;\n      border-top: 1px solid #ccc;\n\n      &.ok {\n        height: 128px;\n        float: right;\n      }\n\n      &:nth-child(4n) {\n        border-right: none;\n      }\n\n      &.highlight {\n        background-color: #ffda44;\n      }\n\n      &.date {\n        position: relative;\n\n        .today {\n          width: 100%;\n          height: 100%;\n          background-color: #f3f3f3;\n          position: absolute;\n          left: 0;\n          top: 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 14px;\n\n          svg {\n            margin-right: 0.5em;\n          }\n        }\n      }\n    }\n  }\n"]))),Ze=f.a.div(we||(we=Object(o.a)(['\n  width: 100%;\n  height: 100%;\n\n  input[type="date"] {\n    text-align: center;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    border: none;\n    font-size: 13px;\n    appearance: none;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    background-color: transparent;\n    color: transparent;\n    opacity: 0;\n\n    &::-webkit-calendar-picker-indicator {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      width: auto;\n      height: auto;\n      color: transparent;\n      background: transparent;\n    }\n\n    &::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n      visibility: hidden;\n    }\n\n    &::-webkit-outer-spin-button {\n      -webkit-appearance: none;\n    }\n  }\n']))),De=function(e){return Object(y.jsx)(Ze,{children:Object(y.jsx)("input",{type:"date",className:"oneLine",onChange:function(n){e.onChange(n.target.value)}})})},Ee=function(e){var n=Object(a.useState)(e.value.toString()),t=Object(d.a)(n,2),i=t[0],c=t[1],o=Object(a.useState)("\u4eca\u5929"),r=Object(d.a)(o,2),s=r[0],l=r[1];return Object(y.jsxs)(Fe,{children:[Object(y.jsx)("div",{className:"output",children:i}),Object(y.jsxs)("div",{className:"pad clearfix",onClick:function(n){var t=n.target.getAttribute("value");null!==t&&("ok"!==t?"0123456789.".split("").concat(["delete","clear"]).indexOf(t)>=0&&function(n){var t;t=n.length>16?n.slice(0,16):0===n.length?"0":n,c(t),e.onChange(parseFloat(t))}(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return"0"===n?e:n+e;case".":return n.indexOf(".")>=0?n:n+".";case"delete":return 1===n.length?"":n.slice(0,-1)||"";case"clear":default:return""}}(t,i)):e.onOk&&e.onOk())},children:[Object(y.jsx)("button",{value:"7",children:"7"}),Object(y.jsx)("button",{value:"8",children:"8"}),Object(y.jsx)("button",{value:"9",children:"9"}),Object(y.jsxs)("button",{value:"date",className:"date",children:[Object(y.jsx)("div",{className:"today oneLine",children:"\u4eca\u5929"===s?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Y,{name:"date",size:24}),s]}):s}),Object(y.jsx)(De,{onChange:function(n){e.onDateSet(n),l(n)}})]}),Object(y.jsx)("button",{value:"4",children:"4"}),Object(y.jsx)("button",{value:"5",children:"5"}),Object(y.jsx)("button",{value:"6",children:"6"}),Object(y.jsx)("button",{value:"clear",children:"\u6e05\u7a7a"}),Object(y.jsx)("button",{value:"1",children:"1"}),Object(y.jsx)("button",{value:"2",children:"2"}),Object(y.jsx)("button",{value:"3",children:"3"}),Object(y.jsx)("button",{value:"ok",className:"ok highlight",children:"\u5b8c\u6210"}),Object(y.jsx)("button",{value:".",className:"dot",children:"."}),Object(y.jsx)("button",{value:"0",className:"zero",children:"0"}),Object(y.jsx)("button",{value:"delete",children:Object(y.jsx)(Y,{name:"delete",value:"delete",size:24})})]})]})},Le=f.a.section(ze||(ze=Object(o.a)(["\n  background: #FFFFFF;\n  padding: 12px 16px;\n  overflow: auto;\n\n  > ol {\n    display: grid;\n    margin: 0 -12px;\n    grid-template-columns:1fr 1fr 1fr 1fr 1fr;\n    margin-left: auto;\n    margin-right: auto;\n\n    > li {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n\n      div {\n        background: #f5f5f5;\n        border-radius: 50%;\n        font-size: 14px;\n        margin: 8px 12px;\n        width: 3em;\n        height: 3em;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      &.selected div {\n        background: #ffda44;\n      }\n    }\n  }\n"]))),qe=function(e){var n=b().tags,t=e.value,a=function(e){return t===e?"selected":""},i=n.filter((function(n){return n.category===e.category}));return Object(y.jsx)(Le,{children:Object(y.jsxs)("ol",{children:[i.map((function(n){return Object(y.jsxs)("li",{onClick:function(){return function(n){e.onChange(n)}(n.id)},className:a(n.id),children:[Object(y.jsx)(Z,{children:Object(y.jsx)(Y,{name:n.icon,size:24})}),n.name]},n.id)})),Object(y.jsxs)("li",{children:[Object(y.jsx)(r.b,{to:"/tags/"+e.category,children:Object(y.jsx)(Z,{children:Object(y.jsx)(Y,{name:"setting",size:24})})}),"\u8bbe\u7f6e"]})]})})},Re=Object(f.a)(Q)(Se||(Se=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  animation: animate 0.25s ease;\n\n  @keyframes animate {\n    from {\n      bottom: -100vh;\n    }\n    to {\n      bottom: 0;\n    }\n  }\n\n  section {\n    flex: 1;\n  }\n"]))),Je={id:-1,tagId:-2,note:"",category:"expense",amount:0,createdAt:""},Ue=f.a.div(Ie||(Ie=Object(o.a)(["\n  background: #ffda44;\n"])));var Ve=function(){var e=Object(a.useState)(Je),n=Object(d.a)(e,2),t=n[0],i=n[1],c=function(){var e=Object(s.g)(),n=Object(a.useState)("/"),t=Object(d.a)(n,2),i=t[0],c=t[1],o=Object(a.useState)(!1),r=Object(d.a)(o,2),l=r[0],u=r[1];return Object(a.useEffect)((function(){l&&e.push(i)}),[i,l,e]),{redirect:function(e){c(e),u(!0)}}}().redirect,o=je().addRecord,r=function(e){i(Object(p.a)(Object(p.a)({},t),e))};return Object(y.jsxs)(Re,{scrollTop:9999,children:[Object(y.jsx)(Ue,{children:Object(y.jsx)(_,{value:t.category,onChange:function(e){return r({category:e})}})}),Object(y.jsx)(qe,{value:t.tagId,category:t.category,onChange:function(e){return r({tagId:e})}}),Object(y.jsxs)("div",{children:[Object(y.jsx)(Me,{value:t.note,onChange:function(e){return r({note:e})}}),Object(y.jsx)(Ee,{value:t.amount,onChange:function(e){return r({amount:e})},onDateSet:function(e){return r({createdAt:e})},onOk:function(){o(t)&&(i(Je),c("/details"))}})]})]})};var Be,Pe,He,Ke,We,Xe,Ge,Qe,$e,_e=function(){return Object(y.jsx)("div",{children:"\u9875\u9762\u4e0d\u5b58\u5728\uff0c\u4f60\u4e2b\u8f93\u9519\u5730\u5740\u4e86\u5427\uff01"})},en=[{id:1,icon:"jucan",name:"\u805a\u9910",category:"expense"},{id:2,icon:"gouwu",name:"\u8d2d\u7269",category:"expense"},{id:3,icon:"riyong",name:"\u65e5\u7528",category:"expense"},{id:4,icon:"jiaotong",name:"\u4ea4\u901a",category:"expense"},{id:5,icon:"shucai",name:"\u852c\u83dc",category:"expense"},{id:6,icon:"shuiguo",name:"\u6c34\u679c",category:"expense"},{id:7,icon:"lingshi",name:"\u96f6\u98df",category:"expense"},{id:8,icon:"yundong",name:"\u8fd0\u52a8",category:"expense"},{id:9,icon:"yule",name:"\u5a31\u4e50",category:"expense"},{id:10,icon:"tongxun",name:"\u901a\u8baf",category:"expense"},{id:11,icon:"yifu",name:"\u8863\u670d",category:"expense"},{id:12,icon:"meirong",name:"\u7f8e\u5bb9",category:"expense"},{id:13,icon:"zhufang",name:"\u4f4f\u623f",category:"expense"},{id:14,icon:"jujia",name:"\u5c45\u5bb6",category:"expense"},{id:15,icon:"yuer",name:"\u80b2\u513f",category:"expense"},{id:16,icon:"zhangbei",name:"\u957f\u8f88",category:"expense"},{id:17,icon:"shejiao",name:"\u793e\u4ea4",category:"expense"},{id:18,icon:"lvxing",name:"\u65c5\u884c",category:"expense"},{id:19,icon:"yanjiu",name:"\u70df\u9152",category:"expense"},{id:20,icon:"shuma",name:"\u6570\u7801",category:"expense"},{id:21,icon:"yiliao",name:"\u533b\u7597",category:"expense"},{id:22,icon:"shuji",name:"\u4e66\u7c4d",category:"expense"},{id:23,icon:"xuexi",name:"\u5b66\u4e60",category:"expense"},{id:24,icon:"chongwu",name:"\u5ba0\u7269",category:"expense"},{id:25,icon:"lijin",name:"\u793c\u91d1",category:"expense"},{id:26,icon:"liwu",name:"\u793c\u7269",category:"expense"},{id:27,icon:"bangong",name:"\u529e\u516c",category:"expense"},{id:28,icon:"weixiu",name:"\u7ef4\u4fee",category:"expense"},{id:29,icon:"juanzeng",name:"\u6350\u8d60",category:"expense"},{id:30,icon:"qinyou",name:"\u4eb2\u53cb",category:"expense"},{id:31,icon:"kuaidi",name:"\u5feb\u9012",category:"expense"},{id:32,icon:"youxi",name:"\u6e38\u620f",category:"expense"},{id:33,icon:"gongzi",name:"\u5de5\u8d44",category:"income"},{id:34,icon:"jianzhi",name:"\u517c\u804c",category:"income"},{id:35,icon:"licai",name:"\u7406\u8d22",category:"income"},{id:36,icon:"lijin",name:"\u7ea2\u5305",category:"income"},{id:37,icon:"qita",name:"\u5176\u4ed6",category:"income"},{id:38,icon:"pingpangqiu",name:"\u4e52\u4e53\u7403",category:"expense"},{id:39,icon:"youyong",name:"\u6e38\u6cf3",category:"expense"},{id:40,icon:"xiangqi",name:"\u8c61\u68cb",category:"expense"},{id:41,icon:"youleyuan",name:"\u6e38\u4e50\u56ed",category:"expense"},{id:42,icon:"dengshan",name:"\u767b\u5c71",category:"expense"},{id:43,icon:"puke",name:"\u6251\u514b",category:"expense"},{id:44,icon:"lanqiu",name:"\u7bee\u7403",category:"expense"},{id:45,icon:"sheji",name:"\u5c04\u51fb",category:"expense"},{id:46,icon:"yumaoqiu",name:"\u7fbd\u6bdb\u7403",category:"expense"},{id:47,icon:"taiqiu",name:"\u53f0\u7403",category:"expense"},{id:48,icon:"baolingqiu",name:"\u4fdd\u9f84\u7403",category:"expense"},{id:49,icon:"xuegao",name:"\u96ea\u7cd5",category:"expense"},{id:50,icon:"xiangjiao",name:"\u9999\u8549",category:"expense"},{id:51,icon:"pingguo",name:"\u82f9\u679c",category:"expense"},{id:52,icon:"miantiao",name:"\u9762\u6761",category:"expense"},{id:53,icon:"kafei",name:"\u5496\u5561",category:"expense"},{id:54,icon:"tijian",name:"\u4f53\u68c0",category:"expense"},{id:55,icon:"zhusheqi",name:"\u6ce8\u5c04\u5668",category:"expense"},{id:56,icon:"gangqin",name:"\u94a2\u7434",category:"expense"},{id:57,icon:"jita",name:"\u5409\u4ed6",category:"expense"},{id:58,icon:"danche",name:"\u5355\u8f66",category:"expense"},{id:59,icon:"deshi",name:"\u7684\u58eb",category:"expense"},{id:60,icon:"ditie",name:"\u5730\u94c1",category:"expense"},{id:61,icon:"jiayouzhan",name:"\u52a0\u6cb9\u7ad9",category:"expense"},{id:62,icon:"lundu",name:"\u8f6e\u6e21",category:"expense"},{id:63,icon:"gaotie",name:"\u9ad8\u94c1",category:"expense"},{id:64,icon:"diandongche",name:"\u7535\u52a8\u8f66",category:"expense"},{id:65,icon:"gaogenxie",name:"\u978b",category:"expense"}],nn=Object(f.a)(Q)(Be||(Be=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),tn=f.a.div(Pe||(Pe=Object(o.a)(["\n  flex-shrink: 0;\n  background: white;\n  padding: 0 16px;\n  margin: 8px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .round {\n    background-color: #ffda44;\n    border-radius: 50%;\n    width: 2.2em;\n    height: 2.2em;\n    margin-right: 16px;\n  }\n\n  label {\n    flex: 1;\n  }\n"]))),an=f.a.section(He||(He=Object(o.a)(["\n  flex: 1;\n  background: #FFFFFF;\n  padding: 12px 16px;\n  overflow: auto;\n\n  > ol {\n    display: grid;\n    margin: 0 -12px;\n    grid-template-columns:1fr 1fr 1fr 1fr 1fr;\n    margin-left: auto;\n    margin-right: auto;\n\n    > li {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n\n      div {\n        background: #f5f5f5;\n        border-radius: 50%;\n        font-size: 14px;\n        margin: 8px 12px;\n        width: 3em;\n        height: 3em;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      &.selected div {\n        background: #ffda44;\n      }\n    }\n  }\n"]))),cn={expense:"\u652f\u51fa",income:"\u6536\u5165"},on=function(){var e=Object(a.useState)({id:32,icon:"youxi",name:"",category:"expense"}),n=Object(d.a)(e,2),t=n[0],i=n[1],c=b().addTag,o=Object(s.i)().category,r=Object(s.g)(),l=en.filter((function(e){return e.category===o}));return Object(y.jsxs)(nn,{children:[Object(y.jsxs)(F,{children:[Object(y.jsx)(Y,{name:"left",size:24,onClick:function(){r.goBack()}}),Object(y.jsxs)("span",{children:["\u6dfb\u52a0",cn[o],"\u7c7b\u522b"]}),Object(y.jsx)("span",{onClick:function(){c(t),r.goBack()},children:"\u5b8c\u6210"})]}),Object(y.jsxs)(tn,{children:[Object(y.jsx)(Z,{className:"round",children:Object(y.jsx)(Y,{name:t.icon,size:20})}),Object(y.jsx)(Ae,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u7c7b\u522b\u540d\u79f0\uff08\u4e0d\u8d85\u8fc74\u4e2a\u6c49\u5b57\uff09",value:t.name,onChange:function(e){i({id:t.id,icon:t.icon,name:e.target.value,category:o})}})]}),Object(y.jsx)(an,{children:Object(y.jsx)("ol",{children:l.map((function(e){return Object(y.jsx)("li",{onClick:function(){return function(e){i(e)}(e)},className:(n=e.name,t.icon===n?"selected":""),children:Object(y.jsx)(Z,{children:Object(y.jsx)(Y,{name:e.icon,size:24})})},e.id);var n}))})})]})},rn=f.a.section(Ke||(Ke=Object(o.a)(["\n  flex-shrink: 0;\n  font-size: 14px;\n  background-color: #ffda44;\n  display: flex;\n  flex-direction: column;\n\n  .category {\n    text-align: center;\n    padding: 20px 0 14px 0;\n\n    > div {\n      display: inline-block;\n    }\n\n    svg {\n      margin-left: 0.5em;\n    }\n  }\n"]))),sn={expense:"\u652f\u51fa",income:"\u6536\u5165"},dn=[{key:"week",value:"\u5468"},{key:"month",value:"\u6708"},{key:"year",value:"\u5e74"}],ln=function(e){var n=Object(a.useState)(e.dateUnit),t=Object(d.a)(n,2),i=t[0],c=t[1];return Object(y.jsxs)(rn,{children:[Object(y.jsx)("div",{className:"category",children:Object(y.jsxs)(Z,{onClick:function(){e.onChange({listVisible:!e.listVisible})},children:[sn[e.category],Object(y.jsx)(Y,{name:"down",size:16})]})}),Object(y.jsx)(L,{type:"bar",value:i,map:dn,onChange:function(n){c(n),e.onChange({dateUnit:n})}})]})},un=function(e){var n=Number(100*e).toFixed(1);return n+="%"},xn=t(243),gn=t.n(xn),jn=f.a.div(We||(We=Object(o.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),bn=f.a.div(Xe||(Xe=Object(o.a)(["\n  flex-grow: 1;\n  overflow-y: auto;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  .mask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.6);\n    display: none;\n    z-index: 1;\n  }\n\n  > ul.category-list {\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    width: 100%;\n    transition: all 0.25s linear;\n    top: -30%;\n    z-index: 2;\n\n    > li {\n      //text-align: center;\n      padding: 16px 0;\n      line-height: 1em;\n      background-color: #fff;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border-bottom: 1px solid #ddd;\n      padding: 10px 20px;\n\n      span {\n        flex: 1;\n        margin-left: 10px;\n      }\n\n      svg:first-child {\n        color: #ffc144;\n      }\n\n      svg:last-child {\n        opacity: 0;\n      }\n\n      &.selected > :last-child {\n        opacity: 1;\n      }\n    }\n\n    &.show {\n      top: 0;\n\n      & + .mask {\n        display: block;\n      }\n    }\n  }\n\n  .details {\n    flex-grow: 1;\n    overflow-y: auto;\n    padding: 5px;\n  }\n"]))),fn=f.a.div(Ge||(Ge=Object(o.a)(["\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  color: #ccc;\n"]))),pn={category:"expense",dateUnit:"week",listVisible:!1},mn=f.a.div(Qe||(Qe=Object(o.a)(["\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n"]))),hn=f.a.div($e||($e=Object(o.a)(["\n  display: flex;\n  //justify-content: space-between;\n  background: white;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n  border-bottom: 1px solid #ddd;\n\n  > .tag {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 1.8em;\n    height: 1.8em;\n    border-radius: 50%;\n    background: #ffda44;\n    margin-right: 16px;\n  }\n\n  .right {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n\n    > .label {\n      font-size: 14px;\n      display: flex;\n      align-items: center;\n\n      > .percent {\n        margin-right: auto;\n        margin-left: 16px;\n        color: #999;\n      }\n\n      > .tag,\n      > .percent,\n      > .amount {\n        display: flex;\n        align-items: center;\n      }\n    }\n\n    > .bar {\n      height: 5px;\n      min-width: 2px;\n      background-color: #ffda44;\n      margin: 5px 0;\n      border-radius: 2.5px;\n    }\n  }\n"])));var On,yn=function(){var e,n=Object(a.useState)(pn),t=Object(d.a)(n,2),i=t[0],c=t[1],o=function(e){c(Object(p.a)(Object(p.a)({},i),e))},r=je(),s=r.records,l=r.sections,u=r.getRecords,x=r.getKvPairs,g=Object(a.useState)((null===(e=l[l.length-1])||void 0===e?void 0:e.value)||""),j=Object(d.a)(g,2),f=j[0],m=j[1],h=Object(a.useState)(l),v=Object(d.a)(h,2),k=v[0],w=v[1],z=Object(a.useState)([]),S=Object(d.a)(z,2),I=S[0],N=S[1],C={expense:"\u652f\u51fa",income:"\u6536\u5165"},T=Object(a.useState)(["expense","income"]),A=Object(d.a)(T,1)[0];Object(a.useEffect)((function(){var e=u({category:i.category,dateUnit:i.dateUnit});N(e)}),[i,s]),Object(a.useEffect)((function(){var e;m(null===(e=l[l.length-1])||void 0===e?void 0:e.key),w(l)}),[l]);var M=I.find((function(e){return e.uid===f})),F=b().getIcon,Z=function(){var e,n,t;if(void 0===M)e=Object(y.jsxs)(fn,{children:[Object(y.jsx)(Y,{name:"nodata",size:100}),"\u6682\u65e0\u6570\u636e"]});else{var a=x(M.items,f,i.dateUnit),c=(n=a.keys,t=a.values,{grid:{left:0,right:0},xAxis:{type:"category",data:n,axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#ddd"}},axisLabel:{formatter:"{value}",color:"#8d8d8d"}},yAxis:{type:"value",show:!1},series:[{symbol:"circle",symbolSize:6,itemStyle:{borderWidth:1,color:function(e){return 0===e.value?"#fff":"#ffda44"},borderColor:"#8d8d8d"},lineStyle:{width:1,color:"#8d8d8d"},data:t,type:"line",smooth:!1,markLine:{symbol:["none","none"],data:[{name:"\u5e73\u5747\u7ebf",type:"average"},{name:"\u6700\u5927\u503c",type:"max",lineStyle:{type:"solid"},label:{show:!0,position:"end"}}],lineStyle:{width:1,color:"#8d8d8d"},silent:!0,animation:!1}}]}),o=M.total,r=o.toFixed(2),s=(o/a.keys.length).toFixed(2),d=C[i.category],l=0;0!==a.ranks.length&&(l=a.ranks[0].value),e=Object(y.jsxs)("div",{className:"details",children:[Object(y.jsxs)("span",{children:["\u603b",d,"\uff1a",r]}),Object(y.jsx)("br",{}),Object(y.jsxs)("span",{children:["\u5e73\u5747\u503c\uff1a",s]}),Object(y.jsx)(gn.a,{option:c,style:{width:"100%",height:"250px"}}),Object(y.jsxs)("h4",{children:[d,"\u6392\u884c\u699c"]}),Object(y.jsx)(mn,{children:a.ranks.map((function(e,n){var t=F(e.tagId);return Object(y.jsxs)(hn,{children:[Object(y.jsx)("div",{className:"tag",children:Object(y.jsx)(Y,{name:t&&t.icon,size:24})}),Object(y.jsxs)("div",{className:"right",children:[Object(y.jsxs)("div",{className:"label",children:[Object(y.jsx)("div",{className:"tag oneLine",children:t&&t.name}),Object(y.jsx)("div",{className:"percent",children:un(e.percent)}),Object(y.jsx)("div",{className:"amount",children:e.value})]}),Object(y.jsx)("div",{className:"bar",style:{width:un(e.value/l)}})]})]},n)}))})]})}return Object(y.jsx)("div",{className:"details",children:e})};return Object(y.jsxs)(jn,{children:[Object(y.jsx)(ln,{category:i.category,dateUnit:i.dateUnit,listVisible:i.listVisible,onChange:function(e){return o(e)}}),Object(y.jsxs)(bn,{children:[Object(y.jsx)("ul",{className:O()("category-list",i.listVisible?"show":void 0),children:A.map((function(e){return Object(y.jsxs)("li",{className:i.category===e?"selected":"",onClick:function(){return o({category:e,listVisible:!1})},children:[Object(y.jsx)(Y,{name:e,size:24}),Object(y.jsx)("span",{children:C[e]}),Object(y.jsx)(Y,{name:"check",size:24})]},e)}))}),Object(y.jsx)("div",{className:"mask",onClick:function(){o({listVisible:!1})}}),Object(y.jsx)(L,{type:"line",value:f,map:k,onChange:function(e){m(e)}}),Object(y.jsx)(Z,{}),Object(y.jsx)(H,{})]})]})},vn=f.a.div(On||(On=Object(o.a)(["\n  color: #333;\n  max-width: 520px;\n  margin: 0 auto;\n"])));var kn=function(){return Object(y.jsx)(vn,{children:Object(y.jsx)(r.a,{children:Object(y.jsxs)(s.d,{children:[Object(y.jsx)(s.b,{exact:!0,path:"/details",children:Object(y.jsx)(Ne,{})}),Object(y.jsx)(s.b,{exact:!0,path:"/money",children:Object(y.jsx)(Ve,{})}),Object(y.jsx)(s.b,{exact:!0,path:"/statistics",children:Object(y.jsx)(yn,{})}),Object(y.jsx)(s.b,{exact:!0,path:"/tags/:category",children:Object(y.jsx)(B,{})}),Object(y.jsx)(s.b,{exact:!0,path:"/tags/:category/new",children:Object(y.jsx)(on,{})}),Object(y.jsx)(s.a,{exact:!0,from:"/",to:"/money"}),Object(y.jsx)(s.b,{path:"*",children:Object(y.jsx)(_e,{})})]})})})};t(558);c.a.render(Object(y.jsx)(kn,{}),document.getElementById("root"))}},[[559,1,2]]]);
//# sourceMappingURL=main.f7dea01d.chunk.js.map