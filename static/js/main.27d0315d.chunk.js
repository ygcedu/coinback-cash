(this["webpackJsonpcoinback-cash"]=this["webpackJsonpcoinback-cash"]||[]).push([[0],{42:function(n,e,t){},43:function(n,e,t){"use strict";t.r(e);var c=t(1),i=t(27),a=t.n(i),o=t(3),r=t(10),s=t(5),l=t(4),d=t(20),j=parseInt(window.localStorage.getItem("idMax")||"0"),x=function(){return j+=1,window.localStorage.setItem("idMax",JSON.stringify(j)),j},b=function(n,e){var t=Object(c.useRef)(0);Object(c.useEffect)((function(){t.current+=1})),Object(c.useEffect)((function(){t.current>1&&n()}),[n,e])},u=function(){var n=Object(c.useState)([]),e=Object(l.a)(n,2),t=e[0],i=e[1];Object(c.useEffect)((function(){var n=JSON.parse(window.localStorage.getItem("tags")||"[]");0===n.length&&(n=[{id:x(),icon:"canyin",name:"\u9910\u996e",type:"",category:"expense"},{id:x(),icon:"gouwu",name:"\u8d2d\u7269",type:"",category:"expense"},{id:x(),icon:"riyong",name:"\u65e5\u7528",type:"",category:"expense"},{id:x(),icon:"jiaotong",name:"\u4ea4\u901a",type:"",category:"expense"},{id:x(),icon:"shucai",name:"\u852c\u83dc",type:"",category:"expense"},{id:x(),icon:"shuiguo",name:"\u6c34\u679c",type:"",category:"expense"},{id:x(),icon:"lingshi",name:"\u96f6\u98df",type:"",category:"expense"},{id:x(),icon:"yundong",name:"\u8fd0\u52a8",type:"",category:"expense"},{id:x(),icon:"yule",name:"\u5a31\u4e50",type:"",category:"expense"},{id:x(),icon:"tongxun",name:"\u901a\u8baf",type:"",category:"expense"},{id:x(),icon:"fushi",name:"\u670d\u9970",type:"",category:"expense"},{id:x(),icon:"meirong",name:"\u7f8e\u5bb9",type:"",category:"expense"},{id:x(),icon:"zhufang",name:"\u4f4f\u623f",type:"",category:"expense"},{id:x(),icon:"jujia",name:"\u5c45\u5bb6",type:"",category:"expense"},{id:x(),icon:"haizi",name:"\u5b69\u5b50",type:"",category:"expense"},{id:x(),icon:"zhangbei",name:"\u957f\u8f88",type:"",category:"expense"},{id:x(),icon:"shejiao",name:"\u793e\u4ea4",type:"",category:"expense"},{id:x(),icon:"lvxing",name:"\u65c5\u884c",type:"",category:"expense"},{id:x(),icon:"yanjiu",name:"\u7814\u7a76",type:"",category:"expense"},{id:x(),icon:"shuma",name:"\u6570\u7801",type:"",category:"expense"},{id:x(),icon:"yiliao",name:"\u533b\u7597",type:"",category:"expense"},{id:x(),icon:"shuji",name:"\u4e66\u7c4d",type:"",category:"expense"},{id:x(),icon:"xuexi",name:"\u5b66\u4e60",type:"",category:"expense"},{id:x(),icon:"chongwu",name:"\u5ba0\u7269",type:"",category:"expense"},{id:x(),icon:"lijin",name:"\u793c\u91d1",type:"",category:"expense"},{id:x(),icon:"liwu",name:"\u793c\u7269",type:"",category:"expense"},{id:x(),icon:"bangong",name:"\u529e\u516c",type:"",category:"expense"},{id:x(),icon:"weixiu",name:"\u7ef4\u4fee",type:"",category:"expense"},{id:x(),icon:"juanzeng",name:"\u6350\u8d60",type:"",category:"expense"},{id:x(),icon:"qinyou",name:"\u4eb2\u53cb",type:"",category:"expense"},{id:x(),icon:"kuaidi",name:"\u5feb\u9012",type:"",category:"expense"},{id:x(),icon:"youxi",name:"\u6e38\u620f",type:"",category:"expense"},{id:x(),icon:"gongzi",name:"\u5de5\u8d44",type:"",category:"income"},{id:x(),icon:"jianzhi",name:"\u517c\u804c",type:"",category:"income"},{id:x(),icon:"licai",name:"\u7406\u8d22",type:"",category:"income"},{id:x(),icon:"lijin",name:"\u793c\u91d1",type:"",category:"income"},{id:x(),icon:"qita",name:"\u5176\u4ed6",type:"",category:"income"}]),i(n)}),[]),b((function(){window.localStorage.setItem("tags",JSON.stringify(t))}),t);return{tags:t,getIcon:function(n){var e=t.filter((function(e){return e.id===n}))[0];return e?e.icon:""},addTag:function(n){var e=n.icon,c=n.name,a=n.category;null!==c&&""!==c&&i([].concat(Object(d.a)(t),[{id:x(),icon:e,name:c,category:a}]))},setTags:i,findTag:function(n){return t.filter((function(e){return e.id===n}))[0]},filterTag:function(n){return t.filter((function(e){return e.category===n}))},updateTag:function(n,e){var c=e.icon,a=e.name,o=e.category;i(t.map((function(e){return e.id===n?{id:n,icon:c,name:a,category:o}:e})))},findTagIndex:function(n){for(var e=-1,c=0;c<t.length;c++)if(t[c].id===n){e=c;break}return e},deleteTag:function(n){i(t.filter((function(e){return e.id!==n})))}}},p=t(2),f=t(7),g=t(21),h=t(19),O=t.n(h),m=t(0),y=["name","color","size","children","className"],v=p.a.svg((function(n){return{width:n.size,height:n.size,fill:n.color}})),w=function(n){var e=n.name,t=n.color,c=n.size,i=(n.children,n.className),a=Object(g.a)(n,y);return Object(m.jsx)(v,Object(f.a)(Object(f.a)({size:c,color:t,"aria-hidden":"true",className:O()("icon",i)},a),{},{children:e&&Object(m.jsx)("use",{xlinkHref:"#icon-"+e})}))};w.defaultProps={size:16};var k,z,N,C,S,I,T=w,E=p.a.button(k||(k=Object(o.a)(["\n  font-size: 18px;\n  border: none;\n  padding: 8px 12px;\n  background: #767676;\n  border-radius: 4px;\n  color: white;\n"]))),F=p.a.header(z||(z=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  line-height: 20px;\n  padding: 14px;\n  font-size: 16px;\n  background-color: #ffda44;\n"]))),V=p.a.div(N||(N=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),J=p.a.section(C||(C=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  background-color: #ffda44;\n\n  > ul {\n    display: flex;\n    border: 1px solid #333;\n    margin-bottom: 14px;\n    border-radius: 8px;\n    overflow: hidden;\n    align-items: center;\n\n    > li {\n      width: 110px;\n      text-align: center;\n      padding: 0.4em 0;\n\n      &.selected {\n        background-color: #333;\n        color: white;\n      }\n\n      &:not(:first-child) {\n        border-left: 1px solid #333;\n      }\n    }\n  }\n"]))),A=function(n){var e=Object(c.useState)(Object.keys(n.map)),t=Object(l.a)(e,1)[0],i=n.value;return Object(m.jsx)(J,{children:Object(m.jsx)("ul",{children:t.map((function(e){return Object(m.jsx)("li",{className:i===e?"selected":"",onClick:function(){return n.onChange(e)},children:n.map[e]},e)}))})})},M=p.a.ol(S||(S=Object(o.a)(["\n  font-size: 16px;\n  background: white;\n  height: 100%;\n  overflow-y: auto;\n\n  > li {\n    border-bottom: 1px solid #d5d5d9;\n    line-height: 20px;\n    margin-left: 16px;\n    display: flex;\n    align-items: center;\n\n    svg {\n      margin: 10px 10px 10px 0;\n    }\n\n    > .divide {\n      flex: 1;\n      display: flex;\n      justify-content: space-between; // \u5de6\u53f3\u5206\u5f00\n      align-items: center; // \u4e0a\u4e0b\u5c45\u4e2d\n    }\n  }\n"]))),D=p.a.div(I||(I=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  position: relative;\n  animation: animate 1s ease;\n  overflow: hidden;\n\n  // fixme: \u6b64\u52a8\u753b\u5728 pc \u7aef\uff08\u5c4f\u5e55\u8f83\u5bbd\u65f6\uff09\uff0c\u6548\u679c\u8f83\u5dee\uff01\n  @keyframes animate {\n    from {\n      left: 100vw;\n    }\n    to {\n      left: 0;\n    }\n  }\n\n  button {\n    width: 100%;\n    height: 56px;\n    font-size: 16px;\n    background: white;\n    border-radius: 0;\n    box-shadow: 0 0 3px rgb(0 0 0 / 25%);\n    color: #606266;\n  }\n\n  .placeholder {\n    width: 24px;\n  }\n"])));var B,R,q,L=function(){var n=u(),e=n.deleteTag,t=n.filterTag,i=Object(s.g)(),a=Object(s.i)().category,o=Object(c.useState)(a),d=Object(l.a)(o,2),j=d[0],x=d[1],b=t(j);return Object(m.jsxs)(D,{children:[Object(m.jsxs)(F,{children:[Object(m.jsxs)(V,{onClick:function(){i.goBack()},children:[Object(m.jsx)(T,{name:"left",size:24}),"\u8fd4\u56de"]}),Object(m.jsx)("span",{children:"\u7c7b\u522b\u8bbe\u7f6e"}),Object(m.jsxs)(V,{style:{opacity:0},children:[Object(m.jsx)(T,{name:"left",size:24}),"\u5360\u4f4d"]})]}),Object(m.jsx)(A,{value:j,map:{expense:"\u652f\u51fa",income:"\u6536\u5165"},onChange:function(n){x(n)}}),Object(m.jsx)(M,{children:b.map((function(n){return Object(m.jsxs)("li",{children:[Object(m.jsx)(T,{name:"remove",size:24,onClick:function(){e(n.id)}}),Object(m.jsx)("div",{className:"divide",children:Object(m.jsxs)(V,{children:[Object(m.jsx)(T,{name:n.icon,size:24}),Object(m.jsx)("span",{className:"oneLine",children:n.name})]})}),Object(m.jsx)(T,{name:"drag",size:24})]},n.id)}))}),Object(m.jsx)(r.b,{to:"/tags/".concat(j,"/new"),children:Object(m.jsx)(E,{children:"+ \u6dfb\u52a0\u7c7b\u522b"})})]})},P=p.a.nav(B||(B=Object(o.a)(["\n  background: white;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\n  line-height: 24px;\n  color: #606266;\n\n  > ul {\n    display: flex;\n\n    > li {\n      width: 33.3333%;\n      text-align: center;\n      position: relative;\n\n      > a {\n        padding: 4px 0;\n        // a \u6807\u7b7e\u52a0 flex \u5e03\u5c40\uff0c\u4ece inline\u5143\u7d20\u53d8\u4e3a block\u5143\u7d20\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n\n        &.selected:not(.add) {\n          color: #ffda44;\n\n          .icon {\n            fill: #ffda44;\n          }\n        }\n      }\n\n      .add {\n        // \u5360\u4f4d\u7528\n        &::before {\n          content: '';\n          display: block;\n          height: 24px;\n        }\n\n        .round {\n          position: absolute;\n          padding: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 50%;\n          border: 4px solid white;\n          background-color: #ffda44;\n          box-shadow: 0px -2px 6px -2px rgba(0, 0, 0, 0.25);\n          left: 50%;\n          bottom: 28px;\n          transform: translateX(-50%);\n\n          .icon {\n            fill: #000;\n          }\n        }\n\n        &.selected {\n          color: #ffda44;\n        }\n      }\n    }\n  }\n"]))),X=function(){var n=Object(s.h)().pathname;return Object(m.jsx)(P,{children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsxs)(r.c,{to:"/details",activeClassName:"selected",children:["/details"===n?Object(m.jsx)(T,{name:"details-fill",size:24}):Object(m.jsx)(T,{name:"details",size:24}),"\u660e\u7ec6"]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(r.c,{to:"/money",activeClassName:"selected",className:"add",children:[Object(m.jsx)("div",{className:"round",children:Object(m.jsx)(T,{name:"add",size:24})}),"\u8bb0\u8d26"]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(r.c,{to:"/statistics",activeClassName:"selected",children:["/statistics"===n?Object(m.jsx)(T,{name:"statistics-fill",size:24}):Object(m.jsx)(T,{name:"statistics",size:24}),"\u56fe\u8868"]})})]})})},H=p.a.div(R||(R=Object(o.a)(["\n  height: 100vh; // \u4e0d\u80fd\u4f7f\u7528 min-height\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),G=p.a.div(q||(q=Object(o.a)(["\n  flex-grow: 1; // \u5c3d\u91cf\u9ad8\n  overflow: auto;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),K=function(n){var e=Object(c.useRef)(null);return Object(c.useEffect)((function(){setTimeout((function(){e.current&&(e.current.scrollTop=n.scrollTop)}),0)}),[n.scrollTop]),Object(m.jsxs)(H,{children:[Object(m.jsx)(G,{ref:e,className:n.className,"data-x":"rick",children:n.children}),Object(m.jsx)(X,{})]})};K.defaultProps={scrollTop:0};var Q,U,W,Y,Z,$,_=K,nn=p.a.section(Q||(Q=Object(o.a)(["\n  font-size: 18px;\n\n  > ul {\n    display: flex;\n\n    > li {\n      width: 50%;\n      //text-align: center;\n      padding: 16px 0;\n      line-height: 1em;\n\n      &.selected > span {\n        position: relative;\n\n        &::after {\n          content: '';\n          display: block;\n          height: 3px;\n          background: #333;\n          position: absolute;\n          bottom: -16px;\n          width: 2.8em;\n          left: 50%;\n          transform: translateX(-50%);\n        }\n      }\n    }\n\n    > li:first-child {\n      text-align: right;\n      padding-right: 18px;\n    }\n\n    > li:nth-child(2) {\n      text-align: left;\n      padding-left: 18px;\n    }\n  }\n"]))),en=function(n){var e={expense:"\u652f\u51fa",income:"\u6536\u5165"},t=Object(c.useState)(["expense","income"]),i=Object(l.a)(t,1)[0],a=n.value;return Object(m.jsx)(nn,{children:Object(m.jsx)("ul",{children:i.map((function(t){return Object(m.jsx)("li",{className:a===t?"selected":"",onClick:function(){return n.onChange(t)},children:Object(m.jsx)("span",{children:e[t]})},t)}))})})},tn=function(){var n=Object(c.useState)([]),e=Object(l.a)(n,2),t=e[0],i=e[1];Object(c.useEffect)((function(){i(JSON.parse(window.localStorage.getItem("records")||"[]"))}),[]),b((function(){window.localStorage.setItem("records",JSON.stringify(t))}),t);return{records:t,addRecord:function(n){if(n.amount<=0)return alert("\u8bf7\u8f93\u5165\u91d1\u989d"),!1;if(n.tagId<0)return alert("\u8bf7\u9009\u62e9\u6807\u7b7e"),!1;var e=Object(f.a)(Object(f.a)({},n),{},{createdAt:(new Date).toISOString()});return i([].concat(Object(d.a)(t),[e])),!0}}},cn=t(13),an=t.n(cn),on=Object(p.a)(_)(U||(U=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n\n  .details {\n    // \u53ea\u4e2d\u95f4\u533a\u57df\u6eda\u52a8\n    flex: 1;\n    overflow-y: auto;\n  }\n"]))),rn=p.a.div(W||(W=Object(o.a)(["\n  background: white;\n"]))),sn=p.a.div(Y||(Y=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  background: white;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n  border-bottom: 1px solid #ddd;\n\n  > .note {\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n  }\n\n  > .tag,\n  > .note,\n  > .amount {\n    display: flex;\n    align-items: center;\n  }\n\n  > .tag {\n    justify-content: center;\n    width: 1.8em;\n    height: 1.8em;\n    border-radius: 50%;\n    background: #ffda44;\n  }\n"]))),ln=p.a.h3(Z||(Z=Object(o.a)(["\n  font-size: 16px;\n  line-height: 20px;\n  padding: 10px 16px;\n  font-weight: normal;\n"]))),dn=p.a.div($||($=Object(o.a)(["\n  header {\n    justify-content: center;\n    font-size: 20px;\n    letter-spacing: 0.2em;\n  }\n"]))),jn=["\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d","\u661f\u671f\u5929"];var xn,bn,un,pn,fn,gn,hn=function(){var n=Object(c.useState)("expense"),e=Object(l.a)(n,2),t=e[0],i=e[1],a=tn().records,o=u().getIcon,r={};a.filter((function(n){return n.category===t})).forEach((function(n){var e=an()(n.createdAt).format("MM\u6708DD\u65e5")+" "+jn[an()(n.createdAt).day()];e in r||(r[e]=[]),r[e].push(n)}));var s=Object.entries(r).sort((function(n,e){return n[0]===e[0]?0:n[0]>e[0]?-1:n[0]<e[0]?1:0}));return Object(m.jsxs)(on,{children:[Object(m.jsx)(dn,{children:Object(m.jsx)(F,{children:"\u8bb0\u8d26\u672c"})}),Object(m.jsx)(rn,{children:Object(m.jsx)(en,{value:t,onChange:function(n){return i(n)}})}),Object(m.jsx)("div",{className:"details",children:s.map((function(n,e){var t=Object(l.a)(n,2),c=t[0],i=t[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)(ln,{children:c}),Object(m.jsx)("div",{children:i.map((function(n,e){return Object(m.jsxs)(sn,{children:[Object(m.jsx)("div",{className:"tag",children:Object(m.jsx)(T,{name:o(n.tagId),size:24})}),n.note&&Object(m.jsx)("div",{className:"note",children:n.note}),Object(m.jsxs)("div",{className:"amount",children:["\uffe5",n.amount]})]},e)}))})]},e)}))})]})},On=["label","children"],mn=p.a.label(xn||(xn=Object(o.a)(["\n  display: flex;\n  align-items: center;\n\n  > span {\n    // \u4e0d\u6362\u884c\n    white-space: nowrap;\n  }\n\n  > input {\n    display: block;\n    width: 100%;\n    height: 44px;\n    background: none;\n    border: none;\n  }\n"]))),yn=function(n){n.label,n.children;var e=Object(g.a)(n,On),t=function(){return n.icon?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(T,{name:n.icon,size:24}),Object(m.jsx)("span",{children:n.label})]}):Object(m.jsx)("span",{children:n.label})};return Object(m.jsxs)(mn,{children:[Object(m.jsx)(t,{}),Object(m.jsx)("input",Object(f.a)({},e))]})},vn=p.a.section(bn||(bn=Object(o.a)(["\n  background: #f3f3f3;\n  padding: 2px 4px;\n  font-size: 14px;\n"]))),wn=function(n){var e=n.value;return Object(m.jsx)(vn,{children:Object(m.jsx)(yn,{type:"text",className:"oneLine",label:"\u5907\u6ce8\uff1a",icon:"note",value:e,onChange:function(e){n.onChange(e.target.value)},placeholder:"\u70b9\u51fb\u5199\u5907\u6ce8..."})})},kn=p.a.section(un||(un=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n\n  > .output {\n    background: white;\n    font-size: 26px;\n    line-height: 48px;\n    text-align: right;\n    padding: 0 16px;\n    border-top: 1px solid #ccc;\n    background-color: #f3f3f3;\n    //box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, 0.25),\n    //inset 0 5px 5px -5px rgba(0, 0, 0, 0.25);\n  }\n\n  > .pad {\n    border-bottom: 1px solid #ccc;\n\n    > button {\n      font-size: 18px;\n      float: left;\n      width: 25%;\n      height: 64px;\n      background-color: #f3f3f3;\n      border: none;\n      border-right: 1px solid #ccc;\n      border-top: 1px solid #ccc;\n\n      &.ok {\n        height: 128px;\n        float: right;\n      }\n\n      &.zero {\n        width: 50%;\n      }\n\n      &:nth-child(4n) {\n        border-right: none;\n      }\n\n      &.highlight {\n        background-color: #ffda44;\n      }\n    }\n  }\n"]))),zn=function(n){var e=Object(c.useState)(n.value.toString()),t=Object(l.a)(e,2),i=t[0],a=t[1];return Object(m.jsxs)(kn,{children:[Object(m.jsx)("div",{className:"output",children:i}),Object(m.jsxs)("div",{className:"pad clearfix",onClick:function(e){var t=e.target.getAttribute("value");null!==t&&("ok"!==t?"0123456789.".split("").concat(["delete","clear"]).indexOf(t)>=0&&function(e){var t;t=e.length>16?e.slice(0,16):0===e.length?"0":e,a(t),n.onChange(parseFloat(t))}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";switch(n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return"0"===e?n:e+n;case".":return e.indexOf(".")>=0?e:e+".";case"delete":return 1===e.length?"":e.slice(0,-1)||"";case"clear":default:return""}}(t,i)):n.onOk&&n.onOk())},children:[Object(m.jsx)("button",{value:"1",children:"1"}),Object(m.jsx)("button",{value:"2",children:"2"}),Object(m.jsx)("button",{value:"3",children:"3"}),Object(m.jsx)("button",{value:"delete",children:Object(m.jsx)(T,{name:"delete",value:"delete",size:24})}),Object(m.jsx)("button",{value:"4",children:"4"}),Object(m.jsx)("button",{value:"5",children:"5"}),Object(m.jsx)("button",{value:"6",children:"6"}),Object(m.jsx)("button",{value:"clear",children:"\u6e05\u7a7a"}),Object(m.jsx)("button",{value:"7",children:"7"}),Object(m.jsx)("button",{value:"8",children:"8"}),Object(m.jsx)("button",{value:"9",children:"9"}),Object(m.jsx)("button",{value:"ok",className:"ok highlight",children:"\u5b8c\u6210"}),Object(m.jsx)("button",{value:"0",className:"zero",children:"0"}),Object(m.jsx)("button",{value:".",className:"dot",children:"."})]})]})},Nn=p.a.section(pn||(pn=Object(o.a)(["\n  background: #FFFFFF;\n  padding: 12px 16px;\n  overflow: auto;\n\n  > ol {\n    display: grid;\n    margin: 0 -12px;\n    grid-template-columns:1fr 1fr 1fr 1fr 1fr;\n    margin-left: auto;\n    margin-right: auto;\n\n    > li {\n      background: #f5f5f5;\n      border-radius: 50%;\n      font-size: 14px;\n      margin: 8px 12px;\n      width: 3em;\n      height: 3em;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      &.selected {\n        background: #ffda44;\n      }\n    }\n  }\n"]))),Cn=function(n){var e=u().tags,t=n.value,c=e.filter((function(e){return e.category===n.category}));return Object(m.jsx)(Nn,{children:Object(m.jsxs)("ol",{children:[c.map((function(e){return Object(m.jsx)("li",{onClick:function(){return t=e.id,void n.onChange(t);var t},className:(c=e.id,t===c?"selected":""),children:Object(m.jsx)(T,{name:e.icon,size:24})},e.id);var c})),Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/tags/"+n.category,children:Object(m.jsx)(T,{name:"setting",size:24})})})]})})},Sn=Object(p.a)(_)(fn||(fn=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  animation: animate 0.25s ease;\n\n  @keyframes animate {\n    from {\n      bottom: -100vh;\n    }\n    to {\n      bottom: 0;\n    }\n  }\n\n  section {\n    flex: 1;\n  }\n"]))),In={tagId:-2,note:"",category:"expense",amount:0},Tn=p.a.div(gn||(gn=Object(o.a)(["\n  background: #ffda44;\n"])));var En=function(){var n=Object(c.useState)(In),e=Object(l.a)(n,2),t=e[0],i=e[1],a=function(){var n=Object(s.g)(),e=Object(c.useState)("/"),t=Object(l.a)(e,2),i=t[0],a=t[1],o=Object(c.useState)(!1),r=Object(l.a)(o,2),d=r[0],j=r[1];return Object(c.useEffect)((function(){d&&n.push(i)}),[i,d,n]),{redirect:function(n){a(n),j(!0)}}}().redirect,o=tn().addRecord,r=function(n){i(Object(f.a)(Object(f.a)({},t),n))};return Object(m.jsxs)(Sn,{scrollTop:9999,children:[Object(m.jsx)(Tn,{children:Object(m.jsx)(en,{value:t.category,onChange:function(n){return r({category:n})}})}),Object(m.jsx)(Cn,{value:t.tagId,category:t.category,onChange:function(n){return r({tagId:n})}}),Object(m.jsxs)("div",{children:[Object(m.jsx)(wn,{value:t.note,onChange:function(n){return r({note:n})}}),Object(m.jsx)(zn,{value:t.amount,onChange:function(n){return r({amount:n})},onOk:function(){o(t)&&(i(In),a("/details"))}})]})]})};var Fn,Vn,Jn,An,Mn,Dn,Bn=function(){return Object(m.jsx)("div",{children:"\u9875\u9762\u4e0d\u5b58\u5728\uff0c\u4f60\u4e2b\u8f93\u9519\u5730\u5740\u4e86\u5427\uff01"})},Rn=p.a.div(Fn||(Fn=Object(o.a)(["\n  background: white;\n  padding: 0 16px;\n  margin-top: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .round {\n    background-color: #ffda44;\n    border-radius: 50%;\n    width: 2.2em;\n    height: 2.2em;\n    margin-right: 16px;\n  }\n\n  label {\n    flex: 1;\n  }\n"]))),qn={expense:"\u652f\u51fa",income:"\u6536\u5165"},Ln=function(){var n=Object(c.useState)({icon:"canyin",name:"",category:"expense"}),e=Object(l.a)(n,2),t=e[0],i=e[1],a=u().addTag,o=Object(s.i)().category,r=Object(s.g)();return Object(m.jsxs)(_,{children:[Object(m.jsxs)(F,{children:[Object(m.jsx)(T,{name:"left",size:24,onClick:function(){r.goBack()}}),Object(m.jsxs)("span",{children:["\u6dfb\u52a0",qn[o],"\u7c7b\u522b"]}),Object(m.jsx)("span",{onClick:function(){a(t),r.goBack()},children:"\u5b8c\u6210"})]}),Object(m.jsx)("div",{children:Object(m.jsxs)(Rn,{children:[Object(m.jsx)(V,{className:"round",children:Object(m.jsx)(T,{name:t.icon,size:20})}),Object(m.jsx)(yn,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u7c7b\u522b\u540d\u79f0\uff08\u4e0d\u8d85\u8fc74\u4e2a\u6c49\u5b57\uff09",value:t.name,onChange:function(n){i({icon:t.icon,name:n.target.value,category:o})}})]})})]})},Pn=p.a.section(Vn||(Vn=Object(o.a)(["\n  font-size: 14px;\n  background-color: #ffda44;\n  display: flex;\n  flex-direction: column;\n\n  .category {\n    text-align: center;\n    padding: 20px 0 14px 0;\n\n    > div {\n      display: inline-block;\n    }\n\n    svg {\n      margin-left: 0.5em;\n    }\n  }\n"]))),Xn={expense:"\u652f\u51fa",income:"\u6536\u5165"},Hn={week:"\u5468",month:"\u6708",year:"\u5e74"},Gn=function(n){var e=Object(c.useState)(n.date),t=Object(l.a)(e,2),i=t[0],a=t[1];return Object(m.jsxs)(Pn,{children:[Object(m.jsx)("div",{className:"category",children:Object(m.jsxs)(V,{onClick:function(){n.onChange({listVisible:!n.listVisible})},children:[Xn[n.category],Object(m.jsx)(T,{name:"down",size:16})]})}),Object(m.jsx)(A,{value:i,map:Hn,onChange:function(e){a(e),n.onChange({date:e})}})]})},Kn=p.a.div(Jn||(Jn=Object(o.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),Qn=p.a.div(An||(An=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  background: white;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n  border-bottom: 1px solid #ddd;\n\n  > .note {\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n  }\n\n  > .tag,\n  > .note,\n  > .amount {\n    display: flex;\n    align-items: center;\n  }\n\n  > .tag {\n    justify-content: center;\n    width: 1.8em;\n    height: 1.8em;\n    border-radius: 50%;\n    background: #ffda44;\n  }\n"]))),Un=p.a.h3(Mn||(Mn=Object(o.a)(["\n  font-size: 16px;\n  line-height: 20px;\n  padding: 10px 16px;\n  font-weight: normal;\n"]))),Wn=p.a.div(Dn||(Dn=Object(o.a)(["\n  flex-grow: 1;\n  overflow-y: auto;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  .mask {\n    position: absolute;\n    // fixme: pc \u7aef\u663e\u793a\uff0c100% \u5bf9 fixed \u4e0d\u8d77\u4f5c\u7528\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.6);\n    display: none;\n    z-index: 1;\n  }\n\n  // fixme: \u8bb0\u5f55\u6761\u6570\u591a\u65f6\uff0c\u4f1a\u906e\u4f4f\u5e95\u90e8\u5bfc\u822a\u680f\u4e2d\u95f4\u7684\u5706\u5f62\u8bb0\u8d26\u56fe\u6807\n  > ul.category-list {\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    width: 100%;\n    transition: all 0.25s linear;\n    top: -17%;\n    z-index: 2;\n\n    > li {\n      //text-align: center;\n      padding: 16px 0;\n      line-height: 1em;\n      background-color: #fff;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border-bottom: 1px solid #ddd;\n      padding: 10px 20px;\n\n      span {\n        flex: 1;\n        margin-left: 10px;\n      }\n\n      svg:first-child {\n        color: #ffc144;\n      }\n\n      svg:last-child {\n        opacity: 0;\n      }\n\n      &.selected > :last-child {\n        opacity: 1;\n      }\n    }\n\n    // fixme: \u79fb\u52a8\u8fc7\u7a0b\u4e0d\u8981\u906e\u76d6\u4e0a\u9762\u7684\u8282\u70b9\uff08\u76ee\u524d\u4e0d\u4f1a\u906e\u76d6\uff09\n    &.show {\n      top: 0;\n\n      // fixme: \u624b\u673a\u7aef\u6ed1\u52a8\u65f6\uff0c\u906e\u7f69\u5c42\u4e0d\u4f1a\u8ddf\u7740\u6ed1\u52a8\n      & + .mask {\n        display: block;\n      }\n    }\n  }\n\n  .details {\n    flex: 1;\n    overflow-y: auto;\n  }\n"]))),Yn=["\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d","\u661f\u671f\u5929"],Zn={category:"expense",date:"week",listVisible:!1};var $n,_n=function(){var n=Object(c.useState)(Zn),e=Object(l.a)(n,2),t=e[0],i=e[1],a=function(n){i(Object(f.a)(Object(f.a)({},t),n))},o=tn().records,r=u().getIcon,s={};o.filter((function(n){return n.category===t.category})).forEach((function(n){var e=an()(n.createdAt).format("MM\u6708DD\u65e5")+" "+Yn[an()(n.createdAt).day()];e in s||(s[e]=[]),s[e].push(n)}));var d=Object.entries(s).sort((function(n,e){return n[0]===e[0]?0:n[0]>e[0]?-1:n[0]<e[0]?1:0})),j={expense:"\u652f\u51fa",income:"\u6536\u5165"},x=Object(c.useState)(["expense","income"]),b=Object(l.a)(x,1)[0];return Object(m.jsxs)(Kn,{children:[Object(m.jsx)(Gn,{category:t.category,date:t.date,listVisible:t.listVisible,onChange:function(n){return a(n)}}),Object(m.jsxs)(Wn,{children:[Object(m.jsx)("ul",{className:O()("category-list",t.listVisible?"show":void 0),children:b.map((function(n){return Object(m.jsxs)("li",{className:t.category===n?"selected":"",onClick:function(){return a({category:n,listVisible:!1})},children:[Object(m.jsx)(T,{name:n,size:24}),Object(m.jsx)("span",{children:j[n]}),Object(m.jsx)(T,{name:"check",size:24})]},n)}))}),Object(m.jsx)("div",{className:"mask",onClick:function(){a({listVisible:!1})}}),Object(m.jsx)("div",{className:"details",children:d.map((function(n,e){var t=Object(l.a)(n,2),c=t[0],i=t[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)(Un,{children:c}),Object(m.jsx)("div",{children:i.map((function(n,e){return Object(m.jsxs)(Qn,{children:[Object(m.jsx)("div",{className:"tag",children:Object(m.jsx)(T,{name:r(n.tagId),size:24})}),n.note&&Object(m.jsx)("div",{className:"note",children:n.note}),Object(m.jsxs)("div",{className:"amount",children:["\uffe5",n.amount]})]},e)}))})]},e)}))}),Object(m.jsx)(X,{})]})]})},ne=p.a.div($n||($n=Object(o.a)(["\n  color: #333;\n  max-width: 520px;\n  margin: 0 auto;\n"])));var ee=function(){return Object(m.jsx)(ne,{children:Object(m.jsx)(r.a,{children:Object(m.jsxs)(s.d,{children:[Object(m.jsx)(s.b,{exact:!0,path:"/details",children:Object(m.jsx)(hn,{})}),Object(m.jsx)(s.b,{exact:!0,path:"/money",children:Object(m.jsx)(En,{})}),Object(m.jsx)(s.b,{exact:!0,path:"/statistics",children:Object(m.jsx)(_n,{})}),Object(m.jsx)(s.b,{exact:!0,path:"/tags/:category",children:Object(m.jsx)(L,{})}),Object(m.jsx)(s.b,{exact:!0,path:"/tags/:category/new",children:Object(m.jsx)(Ln,{})}),Object(m.jsx)(s.a,{exact:!0,from:"/",to:"/money"}),Object(m.jsx)(s.b,{path:"*",children:Object(m.jsx)(Bn,{})})]})})})};t(42);a.a.render(Object(m.jsx)(ee,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.27d0315d.chunk.js.map